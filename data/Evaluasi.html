<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kuis Esai Trigonometri</title>
    <script src="https://unpkg.com/mathlive"></script>
    <style>
      body {
        font-family: Arial, sans-serif;
        background: #f0f4f8;
        margin: 0;
        padding: 2rem;
      }
      .container {
        padding: 20px;
        max-width: 900px;
        margin: auto;
        background: white;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      }
      .soal {
        margin-bottom: 20px;
      }
      .soal p {
        text-align: justify;
      }
      math-field {
        width: 100%;
        min-height: 40px;
        font-size: 1.2rem;
      }
      button {
        background: #28a745;
        color: white;
        border: none;
        padding: 10px 20px;
        font-size: 16px;
        border-radius: 5px;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h2>Kuis Esai Trigonometri</h2>
      <label>Nama Lengkap:</label>
      <input
        type="text"
        id="nama"
        placeholder="Isi nama Anda..."
        style="width: 100%; padding: 8px"
      />
      <br /><br />

      <div class="soal">
        <p>
          <b>1.</b> Standar sudut mendarat pesawat yang direkomendasikan untuk
          kenyamanan dan kemulusan adalah 3°. Jika pesawat sedang berada di
          ketinggian 600 meter, berapa jarak antara posisi pesawat sekarang
          dengan posisi pendaratannya yang ideal?
        </p>
        <math-field id="jawaban1"></math-field>
      </div>

      <div class="soal">
        <p>
          <b>2.</b> Seorang ahli bangun perlu mengukur jarak sungai untuk
          mempersiapkan pembangunan jembatan. Pertama, ahli bangun tersebut
          memberikan tanda di titik awalnya dan melihat ada pohon besar di
          seberang sungai. Ia kemudian berjalan sambil mengukur jarak, sampai
          posisinya sejajar dengan pohon. Jarak yang baru saja ia tempuh adalah
          400 meter. Ia kemudian kembali ke titik awal dan mengukur sudut
          perputaran arah ke posisi pohon dengan theodolit. Ia mendapatkan sudut
          sebesar 31°.
        </p>
        <img
          src="image001.jpg"
          alt="Gambar ilustrasi"
          style="max-width: 100%; height: auto"
        />
        <p>
          <b>a.</b> Tentukan panjang rancangan jembatan yang seharusnya
          berdasarkan informasi yang ada!
        </p>
        <math-field id="jawaban2a"></math-field>
        <p>
          <b>b.</b> Evaluasi strategi pengukuran ulang: sudut 36° dan jarak
          330,8 meter. Tepat atau tidak? Jelaskan.
        </p>
        <math-field id="jawaban2b"></math-field>
      </div>

      <div class="soal">
        <p>
          <b>3.</b> Dimas sedang mencoba mencari tinggi tiang bendera. Dengan
          bantuan teman dan alat busur, ia memperkirakan sudut yang terbentuk
          antara kepala dan ujung tiang bendera adalah 34°.
        </p>
        <img
          src="image002.jpg"
          alt="Gambar ilustrasi"
          style="max-width: 100%; height: auto"
        />
        <p>
          <b>a.</b> Jarak antara Dimas dan tiang bendera adalah 52 m. Cari
          panjang sisi depan berdasarkan sudut dan jarak yang diketahui
        </p>
        <math-field id="jawaban3a"></math-field>
        <p>
          <b>b.</b> Teman Dimas beranggapan bahwa jawaban di bagian a merupakan
          tinggi tiang bendera yang sesungguhnya. Dimas tidak setuju dengan
          pernyataan itu. Bagaimana pendapat kalian? Jelaskan alasannya.
        </p>
        <math-field id="jawaban3b"></math-field>
      </div>

      <div class="soal">
        <p>
          <b>4.</b> Diketahui
          <img src="Asesmen.files/image002.png" width="77" height="26" /> dan
          <i>&#120572;</i> adalah sudut di kuadran II, maka tentukanlah:
        </p>
        <p>
          <b>a.</b>
          <img src="Asesmen.files/image003.png" width="128" height="29" />
        </p>
        <math-field id="jawaban4a"></math-field>
        <p>
          <b>b.</b>
          <img src="Asesmen.files/image004.png" width="134" height="30" />
        </p>
        <math-field id="jawaban4b"></math-field>
      </div>

      <div class="soal">
        <p><b>5.</b> Tentukan nilai dari:</p>
        <p>
          <b>a.</b>
          <img src="Asesmen.files/image005.png" width="82" height="28" />
        </p>
        <math-field id="jawaban5a"></math-field>
        <p>
          <b>b.</b>
          <img src="Asesmen.files/image006.png" width="142" height="27" />
        </p>
        <math-field id="jawaban5b"></math-field>
      </div>

      <button onclick="kirimJawaban()">Kirim Jawaban</button>
      <p id="status"></p>
    </div>

    <script>
      async function kirimJawaban() {
        const nama = document.getElementById("nama").value.trim();
        if (!nama) return alert("Isi nama lengkap terlebih dahulu.");

        const data = {
          nama: nama,
          jawaban1: document.getElementById("jawaban1").value,
          jawaban2a: document.getElementById("jawaban2a").value,
          jawaban2b: document.getElementById("jawaban2b").value,
          jawaban3a: document.getElementById("jawaban3a").value,
          jawaban3b: document.getElementById("jawaban3b").value,
          jawaban4a: document.getElementById("jawaban4a").value,
          jawaban4b: document.getElementById("jawaban4b").value,
          jawaban5a: document.getElementById("jawaban5a").value,
          jawaban5b: document.getElementById("jawaban5b").value,
        };

        const isiFile = `Nama: ${data.nama}

1. ${data.jawaban1}
2a. ${data.jawaban2a}
2b. ${data.jawaban2b}
3a. ${data.jawaban3a}
3b. ${data.jawaban3b}
4a. ${data.jawaban4a}
4b. ${data.jawaban4b}
5a. ${data.jawaban5a}
5b. ${data.jawaban5b}`;

        const form = new FormData();
        form.append(
          "filename",
          `Jawaban_${data.nama.replace(/\s+/g, "_")}_${Date.now()}.txt`
        );
        form.append("content", isiFile);

        const status = document.getElementById("status");
        status.innerText = "Mengirim jawaban...";

        try {
          const res = await fetch(
            "https://script.google.com/macros/s/AKfycbwCfALw0b0hpMpzuSbLyisI_5CrVKXIP4rOg00DU05O5aWyQEy9cQPJ1Wg6n95aRSjEVw/exec",
            {
              method: "POST",
              body: form,
            }
          );
          const json = await res.json();
          const link = json.url;
          status.innerHTML = `✅ Jawaban berhasil dikirim! <a href="\${link}" target="_blank">Lihat File</a><br><br><a href="https://wa.me/6285975213222?text=Assalamualaikum%20saya%20\${encodeURIComponent(data.nama)}%20telah%20mengirim%20jawaban%20kuis%20esai.%20Link:%20\${encodeURIComponent(link)}" target="_blank">Kirim ke WhatsApp</a>`;
        } catch (e) {
          status.innerText = "❌ Gagal mengirim jawaban.";
        }
      }
    </script>
  </body>
</html>
